{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":["import { useCallback, useEffect, useLayoutEffect, useState } from \"react\";\n\nexport const useTimeout = () => {\n  const [to, setTo] = useState<NodeJS.Timeout | null>(null);\n\n  useEffect(() => {\n    return () => {\n      if (to) clearTimeout(to);\n    };\n  }, [to]);\n\n  return (callback: (...args: any[]) => void, ms: number) => {\n    const to = setTimeout(callback, ms);\n    setTo(to);\n  };\n};\n\nexport const useToggle = <T>(\n  ref: React.RefObject<T>\n): [boolean, (b?: boolean) => void] => {\n  const [state, setState] = useState<boolean>(false);\n\n  useOutsideClick(() => setState(false), ref);\n\n  return [\n    state,\n    (bool?: boolean) => {\n      if (bool) setState(bool);\n      else setState(!state);\n    },\n  ];\n};\n\nexport const useKeyDown = (callback: (event: any) => any) => {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", callback);\n    return () => window.removeEventListener(\"keydown\", callback);\n  }, [callback]);\n};\n\nexport const useKeyUp = (callback: (event: any) => any) => {\n  useEffect(() => {\n    window.addEventListener(\"keyup\", callback);\n    return () => window.removeEventListener(\"keyup\", callback);\n  }, [callback]);\n};\n\nexport const useScroll = (callback: (event: any) => void) => {\n  useEffect(() => {\n    document.addEventListener(\"scroll\", callback);\n    return () => document.removeEventListener(\"scroll\", callback);\n  }, [callback]);\n};\n\nexport const useFullscreenChange = (callback: () => void) => {\n  useEffect(() => {\n    callback();\n    document.addEventListener(\"fullscreenchange\", callback);\n    return () => document.removeEventListener(\"fullscreenchange\", callback);\n  }, [callback]);\n};\n\nexport const useOutsideClick = (\n  callback: (event: MouseEvent) => any,\n  ref: React.RefObject<any>\n) => {\n  const handleOutsideClick = useCallback(\n    (e: MouseEvent) => {\n      if (ref.current && !ref.current.contains(e.target)) callback(e);\n    },\n    [callback, ref]\n  );\n\n  useEffect(() => {\n    document.addEventListener(\"mousedown\", handleOutsideClick);\n    return () => {\n      document.removeEventListener(\"mousedown\", handleOutsideClick);\n    };\n  }, [handleOutsideClick]);\n};\n\nexport const useWindowSize = () => {\n  const isClient = typeof window === \"object\";\n\n  function getSize() {\n    return {\n      width: isClient ? window.innerWidth : undefined,\n      height: isClient ? window.innerHeight : undefined,\n      isSemi: window.innerWidth <= 1560,\n    };\n  }\n\n  const [windowSize, setWindowSize] = useState(getSize);\n\n  useEffect(() => {\n    if (!isClient) return;\n\n    function handleResize() {\n      setWindowSize(getSize());\n    }\n\n    window.addEventListener(\"resize\", handleResize);\n    return () => window.removeEventListener(\"resize\", handleResize);\n    // eslint-disable-next-line\n  }, []);\n\n  return windowSize;\n};\n\nexport const useQuadrant = (\n  parentRef: React.RefObject<any>,\n  cwidth: number,\n  cheight: number,\n  defaultQuadrant: number\n) => {\n  const [quadrant, setQuadrant] = useState(defaultQuadrant);\n\n  const { width, height } = useWindowSize();\n\n  useLayoutEffect(() => {\n    if (parentRef.current && width && height) {\n      let newQuadrant = defaultQuadrant;\n      const { x, y } = parentRef.current.getBoundingClientRect();\n\n      if (x + cwidth > width) {\n        if (newQuadrant === 1) newQuadrant = 4;\n        else if (newQuadrant === 2) newQuadrant = 3;\n      }\n\n      if (y + cheight > height) {\n        if (newQuadrant === 3) newQuadrant = 2;\n        else if (newQuadrant === 4) newQuadrant = 1;\n      }\n\n      setQuadrant(newQuadrant);\n    }\n  }, [parentRef, width, height, defaultQuadrant, cwidth, cheight]);\n\n  return quadrant;\n};\n"],"names":["useState","useEffect","useCallback","useLayoutEffect"],"mappings":";;;;;;IAEa,UAAU,GAAG;IAClB,IAAA,KAAcA,cAAQ,CAAwB,IAAI,CAAC,EAAlD,EAAE,QAAA,EAAE,KAAK,QAAyC,CAAC;IAE1DC,eAAS,CAAC;QACR,OAAO;YACL,IAAI,EAAE;gBAAE,YAAY,CAAC,EAAE,CAAC,CAAC;SAC1B,CAAC;KACH,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;IAET,OAAO,UAAC,QAAkC,EAAE,EAAU;QACpD,IAAM,EAAE,GAAG,UAAU,CAAC,QAAQ,EAAE,EAAE,CAAC,CAAC;QACpC,KAAK,CAAC,EAAE,CAAC,CAAC;KACX,CAAC;AACJ,EAAE;IAEW,SAAS,GAAG,UACvB,GAAuB;IAEjB,IAAA,KAAoBD,cAAQ,CAAU,KAAK,CAAC,EAA3C,KAAK,QAAA,EAAE,QAAQ,QAA4B,CAAC;IAEnD,eAAe,CAAC,cAAM,OAAA,QAAQ,CAAC,KAAK,CAAC,GAAA,EAAE,GAAG,CAAC,CAAC;IAE5C,OAAO;QACL,KAAK;QACL,UAAC,IAAc;YACb,IAAI,IAAI;gBAAE,QAAQ,CAAC,IAAI,CAAC,CAAC;;gBACpB,QAAQ,CAAC,CAAC,KAAK,CAAC,CAAC;SACvB;KACF,CAAC;AACJ,EAAE;IAEW,UAAU,GAAG,UAAC,QAA6B;IACtDC,eAAS,CAAC;QACR,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;QAC7C,OAAO,cAAM,OAAA,MAAM,CAAC,mBAAmB,CAAC,SAAS,EAAE,QAAQ,CAAC,GAAA,CAAC;KAC9D,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjB,EAAE;IAEW,QAAQ,GAAG,UAAC,QAA6B;IACpDA,eAAS,CAAC;QACR,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;QAC3C,OAAO,cAAM,OAAA,MAAM,CAAC,mBAAmB,CAAC,OAAO,EAAE,QAAQ,CAAC,GAAA,CAAC;KAC5D,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjB,EAAE;IAEW,SAAS,GAAG,UAAC,QAA8B;IACtDA,eAAS,CAAC;QACR,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QAC9C,OAAO,cAAM,OAAA,QAAQ,CAAC,mBAAmB,CAAC,QAAQ,EAAE,QAAQ,CAAC,GAAA,CAAC;KAC/D,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjB,EAAE;IAEW,mBAAmB,GAAG,UAAC,QAAoB;IACtDA,eAAS,CAAC;QACR,QAAQ,EAAE,CAAC;QACX,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,QAAQ,CAAC,CAAC;QACxD,OAAO,cAAM,OAAA,QAAQ,CAAC,mBAAmB,CAAC,kBAAkB,EAAE,QAAQ,CAAC,GAAA,CAAC;KACzE,EAAE,CAAC,QAAQ,CAAC,CAAC,CAAC;AACjB,EAAE;IAEW,eAAe,GAAG,UAC7B,QAAoC,EACpC,GAAyB;IAEzB,IAAM,kBAAkB,GAAGC,iBAAW,CACpC,UAAC,CAAa;QACZ,IAAI,GAAG,CAAC,OAAO,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC;YAAE,QAAQ,CAAC,CAAC,CAAC,CAAC;KACjE,EACD,CAAC,QAAQ,EAAE,GAAG,CAAC,CAChB,CAAC;IAEFD,eAAS,CAAC;QACR,QAAQ,CAAC,gBAAgB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;QAC3D,OAAO;YACL,QAAQ,CAAC,mBAAmB,CAAC,WAAW,EAAE,kBAAkB,CAAC,CAAC;SAC/D,CAAC;KACH,EAAE,CAAC,kBAAkB,CAAC,CAAC,CAAC;AAC3B,EAAE;IAEW,aAAa,GAAG;IAC3B,IAAM,QAAQ,GAAG,OAAO,MAAM,KAAK,QAAQ,CAAC;IAE5C,SAAS,OAAO;QACd,OAAO;YACL,KAAK,EAAE,QAAQ,GAAG,MAAM,CAAC,UAAU,GAAG,SAAS;YAC/C,MAAM,EAAE,QAAQ,GAAG,MAAM,CAAC,WAAW,GAAG,SAAS;YACjD,MAAM,EAAE,MAAM,CAAC,UAAU,IAAI,IAAI;SAClC,CAAC;KACH;IAEK,IAAA,KAA8BD,cAAQ,CAAC,OAAO,CAAC,EAA9C,UAAU,QAAA,EAAE,aAAa,QAAqB,CAAC;IAEtDC,eAAS,CAAC;QACR,IAAI,CAAC,QAAQ;YAAE,OAAO;QAEtB,SAAS,YAAY;YACnB,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;SAC1B;QAED,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,YAAY,CAAC,CAAC;QAChD,OAAO,cAAM,OAAA,MAAM,CAAC,mBAAmB,CAAC,QAAQ,EAAE,YAAY,CAAC,GAAA,CAAC;;KAEjE,EAAE,EAAE,CAAC,CAAC;IAEP,OAAO,UAAU,CAAC;AACpB,EAAE;IAEW,WAAW,GAAG,UACzB,SAA+B,EAC/B,MAAc,EACd,OAAe,EACf,eAAuB;IAEjB,IAAA,KAA0BD,cAAQ,CAAC,eAAe,CAAC,EAAlD,QAAQ,QAAA,EAAE,WAAW,QAA6B,CAAC;IAEpD,IAAA,KAAoB,aAAa,EAAE,EAAjC,KAAK,WAAA,EAAE,MAAM,YAAoB,CAAC;IAE1CG,qBAAe,CAAC;QACd,IAAI,SAAS,CAAC,OAAO,IAAI,KAAK,IAAI,MAAM,EAAE;YACxC,IAAI,WAAW,GAAG,eAAe,CAAC;YAC5B,IAAA,KAAW,SAAS,CAAC,OAAO,CAAC,qBAAqB,EAAE,EAAlD,CAAC,OAAA,EAAE,CAAC,OAA8C,CAAC;YAE3D,IAAI,CAAC,GAAG,MAAM,GAAG,KAAK,EAAE;gBACtB,IAAI,WAAW,KAAK,CAAC;oBAAE,WAAW,GAAG,CAAC,CAAC;qBAClC,IAAI,WAAW,KAAK,CAAC;oBAAE,WAAW,GAAG,CAAC,CAAC;aAC7C;YAED,IAAI,CAAC,GAAG,OAAO,GAAG,MAAM,EAAE;gBACxB,IAAI,WAAW,KAAK,CAAC;oBAAE,WAAW,GAAG,CAAC,CAAC;qBAClC,IAAI,WAAW,KAAK,CAAC;oBAAE,WAAW,GAAG,CAAC,CAAC;aAC7C;YAED,WAAW,CAAC,WAAW,CAAC,CAAC;SAC1B;KACF,EAAE,CAAC,SAAS,EAAE,KAAK,EAAE,MAAM,EAAE,eAAe,EAAE,MAAM,EAAE,OAAO,CAAC,CAAC,CAAC;IAEjE,OAAO,QAAQ,CAAC;AAClB;;;;;;;;;;;;"}